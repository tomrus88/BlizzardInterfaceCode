<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\UI.xsd">
	
	<EditBox name="InputBoxInstructionsTemplate" inherits="InputBoxTemplate" virtual="true">
		<!--KeyValues>
			Optional
			<KeyValue key="disabledColor" value="GRAY_FONT_COLOR" type="global"/>
			<KeyValue key="enabledColor" value="HIGHLIGHT_FONT_COLOR" type="global"/>
		</KeyValues-->
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Instructions" justifyH="LEFT" justifyV="MIDDLE" inherits="GameFontDisableSmall">
					<Anchors>
						<Anchor point="TOPLEFT" x="16" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="-20" y="0"/>
					</Anchors>
					<Color r="0.35" g="0.35" b="0.35"/>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnTextChanged function="InputBoxInstructions_OnTextChanged"/>
			<OnDisable function="InputBoxInstructions_OnDisable"/>
			<OnEnable function="InputBoxInstructions_OnEnable"/>
		</Scripts>
		<FontString inherits="GameFontHighlightSmall"/>
	</EditBox>
	
	<EditBox name="SearchBoxTemplate" inherits="InputBoxInstructionsTemplate" autoFocus="false" virtual="true">
		<KeyValues>
			<KeyValue key="instructionText" value="SEARCH" type="global"/>
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="$parentSearchIcon" atlas="common-search-magnifyingglass" useAtlasSize="false" parentKey="searchIcon">
					<Size x="10" y="10"/>
					<Anchors>
						<Anchor point="LEFT" x="1" y="-1"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentClearButton" parentKey="clearButton" mixin="ClearButtonMixin" hidden="true">
				<Size x="17" y="17"/>
				<Anchors>
					<Anchor point="RIGHT" x="-3" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture parentKey="Icon" atlas="common-search-clearbutton" useAtlasSize="false" alpha="0.5">
							<Size x="10" y="10"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="3" y="-3"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnter method="OnEnter" />
					<OnLeave method="OnLeave" />
					<OnMouseDown method="OnMouseDown" />
					<OnMouseUp method="OnMouseUp" />
					<OnClick method="OnClick"/>
				</Scripts>
			</Button>
		</Frames>
		<TextInsets left="16" right="20" bottom="0" top="0"/>
		<Scripts>
			<OnLoad function="SearchBoxTemplate_OnLoad"/>
			<OnEscapePressed function="EditBox_ClearFocus"/>
			<OnEnterPressed function="EditBox_ClearFocus"/>
			<OnEditFocusLost function="SearchBoxTemplate_OnEditFocusLost"/>
			<OnEditFocusGained function="SearchBoxTemplate_OnEditFocusGained"/>
			<OnTextChanged function="SearchBoxTemplate_OnTextChanged"/>
		</Scripts>
	</EditBox>

	<EditBox name="NumericInputBoxTemplate" mixin="NumericInputBoxMixin" inherits="InputBoxTemplate" numeric="true" virtual="true">
		<KeyValues>
			<!--
			valueChangedCallback: a function that takes two arguments, the numeric value of the edit box, and a boolean for whether
										it was set by user input (as opposed to set by script). Called whenever the value changes
			valueFinalizedCallback: a function that takes the numeric value of the edit box when the focus is cleared (i.e. enter pressed).
			-->
			<KeyValue key="valueChangedCallback" value="nop" type="global"/>
			<KeyValue key="valueFinalizedCallback" value="nop" type="global"/>
		</KeyValues>
		<Scripts>
			<OnTextChanged method="OnTextChanged"/>
			<OnEnterPressed function="EditBox_ClearFocus"/>
			<OnEditFocusLost method="OnEditFocusLost"/>
		</Scripts>
	</EditBox>

	<EditBox name="NumericInputSpinnerTemplate" letters="3" numeric="true" autoFocus="false" inherits="InputBoxTemplate" mixin="NumericInputSpinnerMixin" virtual="true">
		<Size x="31" y="20"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Left" file="Interface\Common\Common-Input-Border">
					<Size x="8" y="20"/>
					<Anchors>
						<Anchor point="LEFT" x="-5" y="0"/>
					</Anchors>
					<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
				</Texture>
				<Texture parentKey="Right" file="Interface\Common\Common-Input-Border">
					<Size x="8" y="20"/>
					<Anchors>
						<Anchor point="RIGHT" x="0" y="0"/>
					</Anchors>
					<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
				</Texture>
				<Texture parentKey="Middle" file="Interface\Common\Common-Input-Border">
					<Size x="10" y="20"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Left" relativePoint="RIGHT"/>
						<Anchor point="RIGHT" relativeKey="$parent.Right" relativePoint="LEFT"/>
					</Anchors>
					<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="IncrementButton">
				<Size x="23" y="22"/>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnMouseDown>
						if self:IsEnabled() then
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
							self:GetParent():StartIncrement();
						end
					</OnMouseDown>
					<OnMouseUp>
						self:GetParent():EndIncrement();
					</OnMouseUp>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Up"/>
				<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
			</Button>

			<Button parentKey="DecrementButton">
				<Size x="23" y="22"/>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" x="-6" y="0"/>
				</Anchors>
				<Scripts>
					<OnMouseDown>
						if self:IsEnabled() then
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
							self:GetParent():StartDecrement();
						end
					</OnMouseDown>
					<OnMouseUp>
						self:GetParent():EndDecrement();
					</OnMouseUp>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
				<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
			</Button>

			<Frame parentKey="MouseWheelCatcher" enableMouse="true" useParentLevel="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.DecrementButton" />
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.IncrementButton" />
				</Anchors>
				<Scripts>
					<OnMouseWheel>
						if self:GetParent():IsEnabled() then
							local amount = IsShiftKeyDown() and 10 or 1;
							if delta > 0 then
								self:GetParent():Increment(amount);
							else
								self:GetParent():Decrement(amount);
							end
							self:GetParent():ClearFocus();
						end
					</OnMouseWheel>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnEscapePressed function="EditBox_ClearFocus"/>
			<OnEditFocusLost function="EditBox_ClearHighlight"/>
			<OnEditFocusGained function="EditBox_HighlightText"/>
			<OnTextChanged method="OnTextChanged" />
		</Scripts>
		<FontString inherits="ChatFontNormal"/>
	</EditBox>

	<EditBox name="LevelRangeEditBoxTemplate" inherits="InputBoxTemplate" letters="3" numeric="true" autoFocus="false" virtual="true">
		<Size x="28" y="16"/>
	</EditBox>

	<Frame name="LevelRangeFrameTemplate" mixin="LevelRangeFrameMixin" virtual="true">
		<Size x="80" y="22"/>
		<Frames>
			<EditBox parentKey="MinLevel" inherits="LevelRangeEditBoxTemplate">
				<Anchors>
					<Anchor point="LEFT" x="8" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString parentKey="Dash" inherits="GameFontHighlightSmall" text="-">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" x="0" y="0"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</EditBox>
			<EditBox parentKey="MaxLevel" inherits="LevelRangeEditBoxTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.MinLevel" relativePoint="RIGHT" x="10" y="0"/>
				</Anchors>
			</EditBox>
		</Frames>
		<Scripts>
			<OnLoad method="OnLoad"/>
			<OnHide method="OnHide"/>
		</Scripts>
	</Frame>
	
	<!-- Version of SearchBoxTemplate that better supports nine sliced art. -->
	<EditBox name="InputBoxInstructionsNineSliceTemplate" inherits="InputBoxScriptTemplate" virtual="true">
		<!--KeyValues>
			Optional
			<KeyValue key="disabledColor" value="GRAY_FONT_COLOR" type="global"/>
			<KeyValue key="enabledColor" value="HIGHLIGHT_FONT_COLOR" type="global"/>
		</KeyValues-->
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Instructions" justifyH="LEFT" justifyV="MIDDLE" inherits="GameFontDisableSmall">
					<Anchors>
						<Anchor point="TOPLEFT" x="22" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="-22" y="0"/>
					</Anchors>
					<Color r="0.35" g="0.35" b="0.35"/>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnTextChanged function="InputBoxInstructions_OnTextChanged"/>
			<OnDisable function="InputBoxInstructions_OnDisable"/>
			<OnEnable function="InputBoxInstructions_OnEnable"/>
		</Scripts>
		<FontString inherits="GameFontHighlightSmall"/>
	</EditBox>

	<EditBox name="SearchBoxNineSliceTemplate" inherits="InputBoxInstructionsNineSliceTemplate" autoFocus="false" virtual="true">
		<KeyValues>
			<KeyValue key="instructionText" value="SEARCH" type="global"/>
		</KeyValues>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Background" atlas="common-searchbar-a" useAtlasSize="false" setAllPoints="true"/>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="searchIcon" atlas="common-searchbar-icon-a" useAtlasSize="true">
					<Anchors>
						<Anchor point="LEFT" x="4" y="-1"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="clearButton" mixin="ClearButtonMixin" hidden="true">
				<Size x="17" y="17"/>
				<Anchors>
					<Anchor point="RIGHT" x="-3" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture parentKey="Icon" atlas="common-search-clearbutton" useAtlasSize="false" alpha="0.5">
							<Size x="10" y="10"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="3" y="-3"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnter method="OnEnter"/>
					<OnLeave method="OnLeave"/>
					<OnMouseDown method="OnMouseDown"/>
					<OnMouseUp method="OnMouseUp"/>
					<OnClick method="OnClick"/>
				</Scripts>
			</Button>
		</Frames>
		<TextInsets left="22" right="22" bottom="0" top="0"/>
		<Scripts>
			<OnLoad function="SearchBoxTemplate_OnLoad"/>
			<OnEscapePressed function="EditBox_ClearFocus"/>
			<OnEnterPressed function="EditBox_ClearFocus"/>
			<OnEditFocusLost function="SearchBoxTemplate_OnEditFocusLost"/>
			<OnEditFocusGained function="SearchBoxTemplate_OnEditFocusGained"/>
			<OnTextChanged function="SearchBoxTemplate_OnTextChanged"/>
		</Scripts>
	</EditBox>
</Ui>
